# うまピタ

## これは何
ウマ娘のゲームウィンドウを画面にフィットさせるやつ。
使い方は何となく察してください。

## インストール方法
https://github.com/AoiMoe/umapita/releases から umapita-YYYYMMDD-NN.zip みたいな名前の zip ファイルを落とすと、
中に umapita.exe と umapita_keyhook.dll というファイルが入っているので、これを適当なところに置いて起動してください。
インストーラはありません。

## 注意事項
- 最近の Windows では他のプロセスのウィンドウを操作するのに何かしらの権限が必要なので、
  実行すると UAC の権限昇格ダイアログが出ます。
  （出ないようにするには署名したりしないといけないので、それなりにお金もかかるし面倒くさい）
- 領域を「外枠」にしたときに左右と下に少し隙間があるように見えますが、これは仕様です。
  見えない枠がそこに存在しています（マウスカーソルを持っていってみるとわかります）。
- 最小化ボタンを押すとタスクバーから消えますが、タスクバーの通知領域に「UMPT」という感じのアイコンがあるはずなので、
  それをクリックしてみてください。

## ビルド方法
ビルド環境は msys2 専用。
ただし、TCHAR の都合により mingw 環境（または ucrt 環境）でコンパイルする必要があります。
つまり msys2 ネイティブな gcc ではなく `mingw-w64-x86_64-gcc` をインストールする必要があります。
- コンパイル確認しているバージョンは `mingw64/mingw-w64-x86_64-gcc` の 13.2.0-3
- `/mingw64/bin` にパスが通っている必要があります
  - msys2 ネイティブな gcc のあるディレクトリ(`/usr/bin`)よりも前で指定されている必要があります。
  - スタートメニューの「MSYS2 MinGW x64」で起動した bash を使えば自動的に満たされてるはずです。

## キーフックについて
過去のバージョンではキーフックを使用していましたが、現在のバージョンではウマ娘ウインドウがアクティブな場合に Alt+0 ～ Alt+9 にホットキーを設定することで同じ機能を実現しています。そのため、過去のバージョンのような制限はありません。

## TODO
- ダイアログの数値入力を改善する
- ドキュメント
- 使い方デモ
